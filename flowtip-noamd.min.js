!function(){var flowtip_tail,flowtip_content,flowtip_root,flowtip;!function(namespace,jquery,underscore,react){flowtip_tail=function(_,React){return React.createClass({getOriginalDimension:function(){return this._originalDimension},getDefaultProps:function(){return{width:20,height:10}},componentWillMount:function(){this._originalDimension={width:this.props.width,height:this.props.height}},render:function(){if(this.props.hidden)return null;var style={width:this.props.width,height:this.props.height,position:"absolute",top:this.props.top,left:this.props.left},classNames=_.chain(["flowtip-tail",this.props.className]).compact().join(" ");return React.createElement("div",{style:style,className:classNames})}})}(underscore,react),flowtip_content=function(_,React){return React.createClass({render:function(){var classNames=_.chain(["flowtip-content",this.props.className]).compact().join(" ");return React.createElement("div",{className:classNames},this.props.children)}})}(underscore,react),flowtip_root=function($,_,React,FlowTipTail,FlowtipContent){return React.createClass({getDimension:function(){var $root=$(React.findDOMNode(this.refs.root));return{width:$root.width()||this.props.width,height:$root.height()||this.props.height}},getTailOriginalDimension:function(){return this.refs.tail.getOriginalDimension()},getDefaultProps:function(){return{width:null,height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null}},render:function(){if(this.props.hidden)return null;var style={position:"absolute",top:this.props.top,left:this.props.left,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,width:this.props.width,height:this.props.height},classNames=_.chain(["flowtip-root",this.props.className]).compact().join(" "),contentProperties={className:this.props.contentClassName},tailProperties=_.extend({className:this.props.tailClassName},_.pick(this.props.tail,["top","left","width","height","hidden","type"]));return React.createElement("div",{style:style,className:classNames,ref:"root"},React.createElement(FlowtipContent,React.__spread({},contentProperties),this.props.children),React.createElement(FlowTipTail,React.__spread({ref:"tail"},tailProperties)))}})}(jquery,underscore,react,flowtip_tail,flowtip_content),flowtip=function($,_,React,FlowTipRoot){return React.createClass({rootAlign:function(region){return this.props[region+"RootAlign"]||this.props.rootAlign},rootAlignOffset:function(region){return this.props[region+"RootAlignOffset"]||this.props.rootAlignOffset},targetAlign:function(region){return this.props[region+"TargetAlign"]||this.props.targetAlign},targetAlignOffset:function(region){return this.props[region+"TargetAlignOffset"]||this.props.targetAlignOffset},availableRegion:function(region){return!this.props[region+"Disabled"]},fitsInRegion:function(region,parent,target){var position=this.calculatePosition(parent,target),rootDimension=this.rootDimension();return"top"==region?position.top-this.props.edgeOffset>=0:"bottom"==region?position.top+rootDimension.height+this.props.edgeOffset<=parent.height:"left"==region?position.left-this.props.edgeOffset>=0:"right"==region?position.left+rootDimension.width+this.props.edgeOffset<=parent.width:void 0},availableAndFitsIn:function(regions,regionParameter,_first){_first||(_first=regions[0]);var region=regions[0];if(!regions||regions.length<=0)return this.state.region;var availables=regionParameter[region].availables,fits=regionParameter[region].fits,hides=this.props.hideInDisabledRegions;return availables&&fits||!availables&&hides?region:this.availableAndFitsIn(regions.slice(1),regionParameter,_first)},rootDimension:function(){return this.refs.root.getDimension()},tailDimension:function(region){this._tailOriginalDimension||(this._tailOriginalDimension=this.refs.root.getTailOriginalDimension());var dimension={width:this._tailOriginalDimension.width,height:this._tailOriginalDimension.height};return"left"==region||"right"==region?{width:dimension.height,height:dimension.width}:dimension},tailType:function(region){return"top"==region?"bottom":"bottom"==region?"top":"left"==region?"right":"right"==region?"left":void 0},regionParameters:function(parent,target){return{top:{fits:this.fitsInRegion("top",parent,target),availables:this.availableRegion("top")},bottom:{fits:this.fitsInRegion("bottom",parent,target),availables:this.availableRegion("bottom")},left:{fits:this.fitsInRegion("left",parent,target),availables:this.availableRegion("left")},right:{fits:this.fitsInRegion("right",parent,target),availables:this.availableRegion("right")}}},targetAlignmentOffset:function(region){var targetAlign=this.targetAlign(region),targetAlignOffset=this.targetAlignOffset(region);if("center"==targetAlign){if("top"==region||"right"==region)return targetAlignOffset;if("bottom"==region||"left"==region)return-1*targetAlignOffset}else if("edge"==targetAlign){if("top"==region||"right"==region)return-1*targetAlignOffset;if("bottom"==region||"left"==region)return targetAlignOffset}},targetPivot:function(region,targetParameter){var pivot,targetAlign=this.targetAlign(region),targetAlignOffset=this.targetAlignOffset(region);if("center"==targetAlign)"top"==region||"bottom"==region?pivot=targetParameter.left+targetParameter.width/2:("left"==region||"right"==region)&&(pivot=targetParameter.top+targetParameter.height/2);else if("edge"==targetAlign){var pivots;"top"==region||"bottom"==region?pivots=[targetParameter.left,targetParameter.left+targetParameter.width]:("left"==region||"right"==region)&&(pivots=[targetParameter.top,targetParameter.top+targetParameter.height]);var positive=targetAlignOffset>=0;"top"==region||"right"==region?pivot=positive?pivots[1]:pivots[0]:("bottom"==region||"left"==region)&&(pivot=positive?pivots[0]:pivots[1])}return pivot},tailPivot:function(region,targetParameter,tailDimension,rootPosition){var pivot,targetPivot=this.targetPivot(region,targetParameter);"top"==region||"bottom"==region?pivot=targetPivot-rootPosition.left-tailDimension.width/2:("left"==region||"right"==region)&&(pivot=targetPivot-rootPosition.top-tailDimension.height/2);var effectiveOffset=this.targetAlignmentOffset(region);return pivot+effectiveOffset},rootPivot:function(region,targetParameter,rootDimension){var pivot,effectiveOffset,targetPivot=this.targetPivot(region,targetParameter),rootAlign=this.rootAlign(region),rootAlignOffset=this.rootAlignOffset(region);if("center"==rootAlign)"top"==region||"bottom"==region?pivot=targetPivot-rootDimension.width/2:("left"==region||"right"==region)&&(pivot=targetPivot-rootDimension.height/2),"top"==region||"right"==region?effectiveOffset=rootAlignOffset:("bottom"==region||"left"==region)&&(effectiveOffset=-1*rootAlignOffset);else if("edge"==rootAlign){var pivots;"top"==region||"bottom"==region?pivots=[targetPivot,targetPivot-rootDimension.width]:("left"==region||"right"==region)&&(pivots=[targetPivot,targetPivot-rootDimension.height]);var positive=rootAlignOffset>=0;"top"==region||"right"==region?pivot=positive?pivots[1]:pivots[0]:("bottom"==region||"left"==region)&&(pivot=positive?pivots[0]:pivots[1]),"top"==region||"right"==region?effectiveOffset=rootAlignOffset:("bottom"==region||"left"==region)&&(effectiveOffset=-1*rootAlignOffset)}return pivot+effectiveOffset+this.targetAlignmentOffset(region)},calculatePosition:function(parent,target){var region=this.state.region,hasTail=this.props.hasTail,rootDimension=this.rootDimension(),tailWidth=0,tailHeight=0;if(hasTail){var tailDimension=this.tailDimension(region);tailWidth=tailDimension.width,tailHeight=tailDimension.height}var effectiveTargetOffset,position={hidden:!this.availableRegion(region),tail:{hidden:!hasTail}};return"root"==this.props.targetOffsetFrom?effectiveTargetOffset=this.props.targetOffset:"tail"==this.props.targetOffsetFrom&&("top"==region||"bottom"==region?effectiveTargetOffset=tailHeight+this.props.targetOffset:("left"==region||"right"==region)&&(effectiveTargetOffset=tailWidth+this.props.targetOffset)),"top"==region?(position.top=target.top-rootDimension.height-effectiveTargetOffset,position.left=this.rootPivot(region,target,rootDimension)):"bottom"==region?(position.top=target.top+target.height+effectiveTargetOffset,position.left=this.rootPivot(region,target,rootDimension)):"left"==region?(position.top=this.rootPivot(region,target,rootDimension),position.left=target.left-rootDimension.width-effectiveTargetOffset):"right"==region&&(position.top=this.rootPivot(region,target,rootDimension),position.left=target.left+target.width+effectiveTargetOffset),"top"==region||"bottom"==region?position.left<this.props.edgeOffset?position.left=this.props.edgeOffset:position.left+rootDimension.width>parent.width-this.props.edgeOffset&&(position.left=parent.width-rootDimension.width-this.props.edgeOffset):("left"==region||"right"==region)&&(position.top<this.props.edgeOffset?position.top=this.props.edgeOffset:position.top+rootDimension.height>parent.height-this.props.edgeOffset&&(position.top=parent.height-rootDimension.height-this.props.edgeOffset)),position.top=Math.round(position.top)+parent.scrollTop,position.left=Math.round(position.left)+parent.scrollLeft,hasTail&&("top"==region?(position.tail.top=rootDimension.height,position.tail.left=this.tailPivot(region,target,tailDimension,position)):"bottom"==region?(position.tail.top=-1*tailHeight,position.tail.left=this.tailPivot(region,target,tailDimension,position)):"left"==region?(position.tail.top=this.tailPivot(region,target,tailDimension,position),position.tail.left=rootDimension.width):"right"==region&&(position.tail.top=this.tailPivot(region,target,tailDimension,position),position.tail.left=-1*tailWidth),position.tail.top=Math.round(position.tail.top),position.tail.left=Math.round(position.tail.left),position.tail.width=tailWidth,position.tail.height=tailHeight,position.tail.type=this.tailType(region)),position},calculateRegion:function(parent,target){var region=this.state.region;this.props.persevere&&(region=this.props.region);var regionParameter=this.regionParameters(parent,target);"top"!=region||regionParameter.top.fits?"bottom"!=region||regionParameter.bottom.fits?"left"!=region||regionParameter.left.fits?"right"!=region||regionParameter.right.fits||(region=this.availableAndFitsIn(["left","top","bottom"],regionParameter)):region=this.availableAndFitsIn(["right","top","bottom"],regionParameter):region=this.availableAndFitsIn(["top","left","right"],regionParameter):region=this.availableAndFitsIn(["bottom","left","right"],regionParameter),!_.contains(["top","bottom"],region)||regionParameter.top.fits||regionParameter.bottom.fits?!_.contains(["left","right"],region)||regionParameter.left.fits||regionParameter.right.fits||(region=this.availableAndFitsIn(["top","bottom"],regionParameter)):region=this.availableAndFitsIn(["left","right"],regionParameter);var rotateOptions;return"top"==region||"bottom"==region?parent.width-(target.left+target.width/2)-this.props.edgeOffset<this.props.rotationOffset?rotateOptions="top"==region?["left","bottom"]:["left","top"]:target.left+target.width/2-this.props.edgeOffset<this.props.rotationOffset&&(rotateOptions="top"==region?["right","bottom"]:["right","top"]):("left"==region||"right"==region)&&(parent.height-(target.top+target.height/2)-this.props.edgeOffset<this.props.rotationOffset?rotateOptions="left"==region?["top","right"]:["top","left"]:target.top+target.height/2-this.props.edgeOffset<this.props.rotationOffset&&(rotateOptions="left"==region?["bottom","right"]:["bottom","left"])),rotateOptions&&(region=this.availableAndFitsIn(rotateOptions,regionParameter)),region},getInitialState:function(){return{region:this.props.region,position:{tail:{}}}},getDefaultProps:function(){return{className:"",contentClassName:"",tailClassName:"",hasTail:!0,region:"top",targetOffset:10,targetOffsetFrom:"root",edgeOffset:30,rotationOffset:30,targetAlign:"center",targetAlignOffset:0,rootAlign:"center",rootAlignOffset:0,persevere:!1,topDisabled:!1,bottomDisabled:!1,leftDisabled:!1,rightDisabled:!1,hideInDisabledRegions:!1}},componentWillReceiveProps:function(nextProps){var newRegion=this.calculateRegion(nextProps.parent||this.props.parent,nextProps.target||this.props.target);this.setState({region:newRegion});var newPosition=this.calculatePosition(nextProps.parent||this.props.parent,nextProps.target||this.props.target);this.setState({position:newPosition})},render:function(){var style={position:"relative"},rootProperties=_.extend(_.pick(this.props,["className","contentClassName","tailClassName","width","height","minWidth","minHeight","maxWidth","maxHeight"]),_.pick(this.state.position,["top","left","tail","hidden"]));return rootProperties.tail.width=rootProperties.tail.width||this.props.tailWidth,rootProperties.tail.height=rootProperties.tail.height||this.props.tailHeight,React.createElement("div",{style:style,clgassName:"flowtip"},React.createElement(FlowTipRoot,React.__spread({ref:"root"},rootProperties),this.props.children))}})}(jquery,underscore,react,flowtip_root),namespace.FlowTip=flowtip}(window,$,_,React)}();
//# sourceMappingURL=flowtip-noamd.min.js.map